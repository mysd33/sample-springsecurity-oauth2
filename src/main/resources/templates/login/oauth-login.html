<!doctype html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org"
	th:replace="~{layout/template :: layout(~{::title/content()},~{::.container/content()}, ~{})}">

<head>
	<meta charset="utf-8">
	<title>Todo管理アプリ</title>
</head>

<body class="bg-light">
	<div class="container">
		<div class="text-center">
			<div sec:authorize="isAuthenticated()">
				<div>
					<span th:text="${#authentication.name}"></span>さんでログイン済みです。
					<!--/*<span sec:authentication="principal.attributes['email']"></span>*/-->
				</div>
				<a class="mt-5 btn btn-primary" th:href="@{/menu}">メニュー画面</a>
				<form method="post" th:action="@{/logout}">
					<button class="mt-5 btn btn-primary" type="submit">ログアウト</button>
				</form>
			</div>

			<div sec:authorize="isAnonymous()">
				<h2>外部のIDプロバイダでログイン</h2>
				<div class="d-grid gap-2">
					<a class="mt-5 btn btn-primary btn-lg" th:href="@{/oauth2/authorization/cognito}">AWS
						Cognitoでログイン</a>
					<a class="mt-5 btn btn-primary btn-lg" th:href="@{/oauth2/authorization/github}">Githubでログイン</a>
					<a class="mt-5 btn btn-primary btn-lg" th:href="@{/oauth2/authorization/google}">Googleでログイン</a>
				</div>
			</div>
		</div>
		<div class="text-end">
			<a class="mt-5 btn btn-outline-primary" th:href="@{/}">トップ画面に戻る</a>
		</div>
	</div>
</body>



</html>